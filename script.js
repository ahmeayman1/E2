const questions = [

/* ================= PART 1 : MCQ (1–20) ================= */

{
  type: "mcq",
  q: "Planning is considered the ________ function of management because all other functions depend on it.",
  options: ["Final", "Fundamental", "Secondary", "Operational"],
  a: 1
},
{
  type: "mcq",
  q: "Which of the following bridges the gap from where we are to where we want to go?",
  options: ["Organizing", "Controlling", "Planning", "Staffing"],
  a: 2
},
{
  type: "mcq",
  q: "Specific results that an individual or organization wishes to achieve are called:",
  options: ["Plans", "Objectives", "Procedures", "Missions"],
  a: 1
},
{
  type: "mcq",
  q: "Planning is ________, meaning it is required at all levels of management.",
  options: ["Futuristic", "Rigid", "Pervasive", "Costly"],
  a: 2
},
{
  type: "mcq",
  q: "A dream or a statement of what the organization hopes to be in the future is the:",
  options: ["Mission", "Policy", "Vision", "Rule"],
  a: 2
},
{
  type: "mcq",
  q: "The time frame for Strategic Plans usually ranges from:",
  options: ["1 to 3 years", "5 to 10 years", "6 months to 1 year", "Over 20 years"],
  a: 1
},
{
  type: "mcq",
  q: "Lower-level managers are primarily responsible for:",
  options: ["Strategic planning", "Philosophy formulation", "Operational planning", "Mission statement"],
  a: 2
},
{
  type: "mcq",
  q: "Which type of plan is flexible and provides general guidelines?",
  options: ["Specific plans", "Directional plans", "Rules", "Standing plans"],
  a: 1
},
{
  type: "mcq",
  q: "Plans that are designed to meet the needs of a unique, one-time situation are:",
  options: ["Standing plans", "Single-use plans", "Strategic plans", "Policies"],
  a: 1
},
{
  type: "mcq",
  q: "Policies, procedures, and rules are examples of:",
  options: ["Single-use plans", "Directional plans", "Standing plans", "Strategic plans"],
  a: 2
},
{
  type: "mcq",
  q: "The first step in the planning process is:",
  options: ["Evaluating alternatives", "Implementation", "Setting up objectives", "Follow-up"],
  a: 2
},
{
  type: "mcq",
  q: "A brief statement identifying the reason an organization exists is the:",
  options: ["Vision", "Mission", "Philosophy", "Goal"],
  a: 1
},
{
  type: "mcq",
  q: "Planning is an intellectual process that involves:",
  options: ["Guesswork", "Physical exercise", "Foresight and imagination", "Haphazard decision-making"],
  a: 2
},
{
  type: "mcq",
  q: "Short-term plans typically cover a period of:",
  options: ["3 to 10 years", "1 to 3 years", "One year or less", "5 to 10 years"],
  a: 2
},
{
  type: "mcq",
  q: "Specific accomplishments that indicate the organization is moving toward its vision are:",
  options: ["Goals", "Rules", "Procedures", "Policies"],
  a: 0
},
{
  type: "mcq",
  q: "One way to overcome the limitations of planning is:",
  options: ["Increasing rigidity", "Ignoring external changes", "Top management support", "Reducing employee participation"],
  a: 2
},
{
  type: "mcq",
  q: "Intermediate plans cover a time duration of:",
  options: ["Less than 1 year", "1 to 3 years", "5 to 10 years", "More than 10 years"],
  a: 1
},
{
  type: "mcq",
  q: "Which planning level is responsible for day-to-day activities?",
  options: ["Top level", "Middle level", "Low level / Operational", "Administrative level"],
  a: 2
},
{
  type: "mcq",
  q: "A statement of exactly what should or should not be done is a:",
  options: ["Policy", "Procedure", "Rule", "Mission"],
  a: 2
},
{
  type: "mcq",
  q: "Planning improves ________ by eliminating duplication of efforts.",
  options: ["Rigidity", "Efficiency", "Costs", "Uncertainty"],
  a: 1
},

/* ================= TRUE / FALSE (21–40) ================= */

{ type: "tf", q: "Planning is a one-time activity that ends once the plan is written.", a: false },
{ type: "tf", q: "Efficiency means attaining organizational goals regardless of resources.", a: false },
{ type: "tf", q: "Vision is more specific and measurable than objectives.", a: false },
{ type: "tf", q: "Planning is futuristic because it involves thinking in advance.", a: true },
{ type: "tf", q: "Middle-level managers focus on departmental planning.", a: true },
{ type: "tf", q: "Operational plans focus primarily on planning rather than directing.", a: false },
{ type: "tf", q: "Specific plans are clearly defined and leave no room for interpretation.", a: true },
{ type: "tf", q: "Planning is not affected by external limitations like government policies.", a: false },
{ type: "tf", q: "A policy is a sequence of actions to be followed to achieve an objective.", a: false },
{ type: "tf", q: "Strategic planning is the responsibility of top management.", a: true },
{ type: "tf", q: "Rules are usually included as part of policies and procedures.", a: true },
{ type: "tf", q: "Effective planning should be rigid to ensure goals are met.", a: false },
{ type: "tf", q: "Planning helps in reducing guesswork.", a: true },
{ type: "tf", q: "The Mission statement clarifies what the organization hopes to be in the future.", a: false },
{ type: "tf", q: "Philosophy sets out the values and beliefs of nursing administration.", a: true },
{ type: "tf", q: "Feedback or follow-up is the final step in the planning process.", a: true },
{ type: "tf", q: "Directional plans are best used when uncertainty is high.", a: true },
{ type: "tf", q: "Planning is a physical exercise rather than a mental one.", a: false },
{ type: "tf", q: "Overcoming resistance to change improves planning effectiveness.", a: true },
{ type: "tf", q: "Goals are global while objectives are more specific and behavioral.", a: true },

/* ================= CRITICAL THINKING (41–50) ================= */

{
  type: "mcq",
  q: "If a nurse manager is dealing with a highly unstable environment, which plan is most appropriate?",
  options: ["Specific plan", "Directional plan", "Standing plan", "Operational plan"],
  a: 1
},
{
  type: "mcq",
  q: "If a manager acts first then thinks later, they skipped which planning characteristic?",
  options: ["Pervasiveness", "Intellectual process", "Continuity", "Breadth"],
  a: 1
},
{
  type: "mcq",
  q: "Which best describes the relationship between planning and controlling?",
  options: [
    "They are independent",
    "Planning provides standards for controlling",
    "Controlling happens before planning",
    "Operational plans ignore controlling"
  ],
  a: 1
},
{
  type: "mcq",
  q: "“To be the leading healthcare provider by 2030” is a:",
  options: ["Procedure", "Rule", "Vision", "Philosophy"],
  a: 2
},
{ type: "tf", q: "If goals are achieved but resources are wasted, the organization is effective but not efficient.", a: true },
{
  type: "mcq",
  q: "Adjusting staffing due to sudden patient surge shows planning is:",
  options: ["Pervasive", "Flexible", "Primary", "Costly"],
  a: 1
},
{
  type: "mcq",
  q: "Why is planning considered the primary function?",
  options: [
    "Most expensive",
    "Done before all other functions",
    "Only for top managers",
    "Never changes"
  ],
  a: 1
},
{ type: "tf", q: "A standing plan becomes single-use once updated.", a: false },
{
  type: "mcq",
  q: "Is a strategic short-term plan common practice?",
  options: [
    "Yes, always short-term",
    "No, strategic plans are long-term",
    "Yes, for lower managers",
    "No time frame"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Which step of planning involves periodic revision?",
  options: ["Implementation", "Follow-up", "Evaluating alternatives", "Choosing best alternative"],
  a: 1
}

];

console.log(questions.length); // ✅ 50
console.log(questions.length);
let index = 0;
let answers = Array(questions.length).fill(null);
let reviewMode = false;
let shuffledQuestions = [];
/* ========= ELEMENTS ========= */

const qText = document.getElementById("questionText");
const optionsDiv = document.getElementById("options");
const counter = document.getElementById("counter");
const progress = document.getElementById("progressBar");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("result");
const resultScore = document.getElementById("resultScore");
const resultPercent = document.getElementById("resultPercent");
/* ========= OPTIONS ========= */
function shuffleOptions(arr) {
  const array = [...arr];
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
function createOption(text, isCorrect) {
  const b = document.createElement("button");
  b.innerText = text;
  b.onclick = () => select(isCorrect, b);
  optionsDiv.appendChild(b);
}
function select(isCorrect, btn) {
  if (answers[index] !== null) return;

  answers[index] = isCorrect;

  const q = shuffledQuestions[index];

  [...optionsDiv.children].forEach(b => {
    b.disabled = true;

    // لو MCQ
    if (q.type === "mcq") {
      const correctText = q.options[q.a];

      if (b.innerText === correctText) {
        b.style.background = "#27ae60"; // الصح أخضر
      } else if (b === btn) {
        b.style.background = "#e74c3c"; // الغلط أحمر
      }
    }

    // لو True / False
    if (q.type === "tf") {
      if (
        (b.innerText === "True" && q.a === true) ||
        (b.innerText === "False" && q.a === false)
      ) {
        b.style.background = "#27ae60";
      } else if (b === btn) {
        b.style.background = "#e74c3c";
      }
    }
  });

  nextBtn.style.display = "inline-block";
}
function startQuiz() {
  index = 0;
  answers = Array(questions.length).fill(null);
  reviewMode = false;

  // ✅ اعمل نسخة بدل ما تغيّر الأصل
  shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
document.getElementById("questionsBtn").innerText =
  `Questions (${shuffledQuestions.length})`;
  document.getElementById("result").classList.remove("show");
  document.getElementById("home").style.display = "none";
  document.getElementById("quiz").style.display = "block";

  loadQuestion();
}
function loadQuestion() {
  optionsDiv.innerHTML = "";
  nextBtn.style.display = "none";

  const q = shuffledQuestions[index];
  qText.innerText = q.q;
  counter.innerText = `Question ${index + 1} / ${shuffledQuestions.length}`;
  progress.style.width = ((index + 1) / shuffledQuestions.length) * 100 + "%";

  if (q.type === "tf") {
    createOption("True", q.a === true);
createOption("False", q.a === false);
  } else {
    const options = q.options.map((text, i) => ({
  text,
  correct: i === q.a
}));

shuffleOptions(options).forEach(opt => {
  createOption(opt.text, opt.correct);
});
  }
}

function nextQuestion() {
  if (index < questions.length - 1) {
    index++;
    loadQuestion();
  } else {
    finishQuiz();
  }
}

function finishQuiz() {
  const score = answers.filter(a => a === true).length;
  const percent = Math.round((score / questions.length) * 100);

  // اخفي الكويز
  document.getElementById("quiz").style.display = "none";

  // النصوص
  resultScore.innerText = `Score: ${score} / ${questions.length}`;
  resultPercent.innerText = `Percentage: ${percent}%`;

  let title = "";
  if (percent >= 85) {
    title = "اول دفعععهه يعمممم";
  } else if (percent >= 70) {
    title = "شد شويه يعممم";
  } else {
    title = "انت اخرك تخش كليه البهاييييمممم";
  }

  document.getElementById("resultTitle").innerText = title;

  // أظهر النتيجة بالأنيميشن
  resultBox.classList.add("show");
}
function restartQuiz() {
  document.getElementById("result").classList.remove("show");
  startQuiz();
}
function toggleQuestions() {
  const list = document.getElementById("questionsList");
  list.classList.toggle("show");
  renderQuestionsList();
}

function renderQuestionsList() {
  const list = document.getElementById("questionsList");
  list.innerHTML = "";

  shuffledQuestions.forEach((q, i) => {
    const b = document.createElement("button");
    b.innerText = i + 1;

    if (answers[i] === null) {
      b.className = "q-unanswered";
    } else if (answers[i] === true) {
      b.className = "q-correct";
    } else {
      b.className = "q-wrong";
    }

    if (i === index) {
      b.style.outline = "3px solid #3498db";
    }

    b.onclick = () => {
      index = i;
      loadQuestion();
      renderQuestionsList();
    };

    list.appendChild(b);
  });
}
/* ========= MENU ========= */

const sideMenu = document.getElementById("sideMenu");
const overlay = document.getElementById("overlay");

function toggleMenu() {
  sideMenu.classList.toggle("show");
  overlay.classList.toggle("show");
}

function closeMenu() {
  sideMenu.classList.remove("show");
  overlay.classList.remove("show");
}

/* ========= DARK MODE ========= */

function toggleDark() {
  document.body.classList.toggle("dark");
}